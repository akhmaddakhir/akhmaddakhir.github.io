<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Admin - Main Dashboard | TemanSinggah</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --side-bar-active: #7b3f00;
      --button-color: #92400e;
      --button-hover: #78350f;
      --light-color: #fff;
      --light-second-color: #f5f5f5;
      --bg-color: #f8f8f8;
      --box-bg: #ededed;
      --dark-color: #000;
      --dark-second-color: #222;
      --dark-third-color: #555;
      --rating-color: #ffcd29;
      --success-color: #059669;
      --success-background: #d1fae5;
      --edit-color: #0284c7;
      --danger-color: #dc2626;
      --danger-background: #fee2e2;
      --warning-color: #d97706;
      --warning-background: #fef3c7;
      --purple-color: #7c3aed;
      --purple-background: #ede9fe;
      --font: "Inter", sans-serif;
      --label-color: #6b7280;
      --axis-text-color: #f3f4f6;
      --bar-color: #14b8a6;
      --revenue-color: rgba(20, 184, 166, 0.1);
      --tooltip-background: #1f2937;
      --sidebar-border: #d1d5db;
      --border: #e5e7eb;
      --border-hover: #d1d5db;
      --table-button-border-radius: 6px;
      --button-border-radius: 8px;
      --border-radius: 10px;
      --card-border-radius: 12px;
      --box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      --nav-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04), 0 4px 10px rgba(0, 0, 0, 0.06);
      --padding: 30px 24px;
      --padding-button: 12px 18px;
      --grid-gap: 20px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: var(--font);
    }

    body {
      color: var(--dark-second-color);
      background: var(--bg-color);
    }

    .dashboard-admin {
      background: var(--bg-color);
      padding: 30px;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
    }

    .dashboard-title {
      font-size: 28px;
      font-weight: 800;
      color: var(--dark-second-color);
      margin-bottom: 20px;
    }

    .custom-select {
      position: relative;
      width: 160px;
      box-shadow: var(--box-shadow);
      border-radius: 10px;
    }

    .select-trigger {
      padding: var(--padding-button);
      background: var(--light-color);
      border: 2px solid var(--border);
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
      color: #374151;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      user-select: none;
      transition: all 0.2s;
    }

    .select-trigger:hover {
      border-color: var(--border-hover);
      background: #f9fafb;
    }

    .select-trigger.active {
      border-color: #374151;
    }

    .select-icon {
      font-size: 18px;
      transition: transform 0.25s;
    }

    .select-trigger.active .select-icon {
      transform: rotate(180deg);
    }

    .select-dropdown {
      position: absolute;
      top: calc(100% + 8px);
      left: 0;
      width: 100%;
      background: var(--light-color);
      border: 1px solid var(--border);
      border-radius: 10px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-8px);
      transition: all 0.2s;
      z-index: 100;
    }

    .select-dropdown.active {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .select-option {
      padding: 12px 16px;
      font-size: 14px;
      color: #374151;
      cursor: pointer;
      border-bottom: 1px solid var(--border);
      transition: background 0.2s;
    }

    .select-option:last-child {
      border-bottom: none;
    }

    .select-option:hover {
      background: #f3f4f6;
    }

    .select-option.selected {
      background: #eff6ff;
      color: #3b82f6;
      font-weight: 500;
    }

    .header-button-right {
      display: flex;
      gap: 15px;
    }

    .header-button {
      background: var(--button-color);
      padding: var(--padding-button);
      cursor: not-allowed;
      border-radius: var(--button-border-radius);
      color: var(--light-color);
      font-weight: 500;
      border: none;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      box-shadow: var(--box-shadow);
      opacity: 0.6;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--grid-gap);
      margin-bottom: 30px;
    }

    .stat-card {
      padding: var(--padding);
      background: var(--light-color);
      border-radius: var(--card-border-radius);
      box-shadow: var(--box-shadow);
    }

    .stat-title {
      font-size: 14px;
      color: var(--dark-third-color);
      margin-bottom: 10px;
      font-weight: 500;
    }

    .stat-value {
      font-size: 32px;
      font-weight: 800;
      margin-bottom: 12px;
      color: var(--dark-second-color);
    }

    .stat-change {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      color: var(--success-color);
      background: var(--success-background);
      padding: 4px 8px;
      border-radius: var(--table-button-border-radius);
      font-size: 13px;
      font-weight: 600;
    }

    .stat-change::before {
      content: "▲";
      font-size: 11px;
    }

    .charts-grid {
      display: grid;
      gap: var(--grid-gap);
      grid-template-columns: repeat(2, 1fr);
      margin-bottom: 30px;
    }

    .chart-card {
      padding: var(--padding);
      background: var(--light-color);
      border-radius: var(--card-border-radius);
      box-shadow: var(--box-shadow);
    }

    .chart-card.full {
      grid-column: span 2;
    }

    .card-title {
      font-size: 18px;
      font-weight: 800;
      margin-bottom: 20px;
      color: var(--dark-second-color);
    }

    .chart-wrapper {
      position: relative;
      height: 300px;
    }

    .chart-wrapper.tall {
      height: 400px;
    }

    .table-section {
      background: var(--light-color);
      border-radius: var(--card-border-radius);
      box-shadow: var(--box-shadow);
      padding: var(--padding);
      margin-bottom: 30px;
    }

    .table-wrapper {
      overflow-x: auto;
      margin-top: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th {
      text-align: left;
      padding: 12px;
      background: var(--bg-color);
      font-size: 13px;
      font-weight: 600;
      color: var(--dark-third-color);
      border-bottom: 2px solid var(--border);
    }

    td {
      padding: 16px 12px;
      font-size: 14px;
      border-bottom: 1px solid var(--border);
      color: var(--dark-second-color);
    }

    .status-badge {
      padding: 4px 8px;
      border-radius: var(--table-button-border-radius);
      font-size: 12px;
      font-weight: 600;
      display: inline-block;
    }

    .status-success {
      background: var(--success-background);
      color: var(--success-color);
    }

    .status-warning {
      background: var(--warning-background);
      color: var(--warning-color);
    }

    .status-danger {
      background: var(--danger-background);
      color: var(--danger-color);
    }

    .top-performers {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--grid-gap);
      margin-bottom: 30px;
    }

    .performer-card {
      background: var(--light-color);
      border-radius: var(--card-border-radius);
      box-shadow: var(--box-shadow);
      padding: var(--padding);
    }

    .performer-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-bottom: 1px solid var(--border);
    }

    .performer-item:last-child {
      border-bottom: none;
    }

    .performer-rank {
      width: 32px;
      height: 32px;
      background: var(--bg-color);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 14px;
      color: var(--dark-third-color);
    }

    .performer-info {
      flex: 1;
    }

    .performer-name {
      font-weight: 600;
      font-size: 14px;
      color: var(--dark-second-color);
    }

    .performer-detail {
      font-size: 12px;
      color: var(--dark-third-color);
      margin-top: 2px;
    }

    .performer-value {
      font-weight: 700;
      font-size: 15px;
      color: var(--bar-color);
    }

    canvas {
      display: block;
    }

    @media (max-width: 1200px) {
      .charts-grid {
        grid-template-columns: 1fr;
      }
      .chart-card.full {
        grid-column: span 1;
      }
    }
  </style>
</head>
<body>
  <section class="dashboard-admin">
    <h1 class="dashboard-title">Dashboard Ringkasan Sistem</h1>
    
    <div class="dashboard-header">
      <div class="custom-select">
        <div class="select-trigger" id="selectTrigger" tabindex="0">
          <span id="selectedText">Keseluruhan</span>
          <i class="ri-arrow-down-s-line select-icon"></i>
        </div>
        <div class="select-dropdown" id="selectDropdown">
          <div class="select-option selected" data-value="allTime">Keseluruhan</div>
          <div class="select-option" data-value="weekly">Mingguan</div>
          <div class="select-option" data-value="monthly">Bulanan</div>
          <div class="select-option" data-value="yearly">Tahunan</div>
        </div>
      </div>

      <div class="header-button-right">
        <button class="header-button" disabled>
          <i class="ri-share-line"></i>
          Bagikan
        </button>
        <button class="header-button" disabled>
          <i class="ri-download-line"></i>
          Ekspor
        </button>
      </div>
    </div>

    <section class="stats-grid">
      <div class="stat-card">
        <h3 class="stat-title">Total Pendapatan</h3>
        <div class="stat-value" id="totalRevenue">Rp 2,39 M</div>
        <div class="stat-change" id="revenueChange">+18%</div>
      </div>
      <div class="stat-card">
        <h3 class="stat-title">Total Pemesanan</h3>
        <div class="stat-value" id="totalBookings">54.530</div>
        <div class="stat-change" id="bookingsChange">+12%</div>
      </div>
      <div class="stat-card">
        <h3 class="stat-title">Pengguna Aktif</h3>
        <div class="stat-value" id="activeUsers">12.847</div>
        <div class="stat-change" id="usersChange">+8%</div>
      </div>
      <div class="stat-card">
        <h3 class="stat-title">Total Host</h3>
        <div class="stat-value" id="totalHosts">3.254</div>
        <div class="stat-change" id="hostsChange">+15%</div>
      </div>
    </section>

    <section class="charts-grid">
      <div class="chart-card full">
        <h2 class="card-title">Tren Pendapatan</h2>
        <div class="chart-wrapper">
          <canvas id="revenueTrendChart"></canvas>
        </div>
      </div>

      <div class="chart-card">
        <h2 class="card-title">Pertumbuhan User & Host</h2>
        <div class="chart-wrapper">
          <canvas id="growthChart"></canvas>
        </div>
      </div>

      <div class="chart-card">
        <h2 class="card-title">Conversion Funnel</h2>
        <div class="chart-wrapper">
          <canvas id="conversionChart"></canvas>
        </div>
      </div>

      <div class="chart-card">
        <h2 class="card-title">Top 5 Kota Populer</h2>
        <div class="chart-wrapper">
          <canvas id="popularCityChart"></canvas>
        </div>
      </div>

      <div class="chart-card">
        <h2 class="card-title">Metode Pembayaran</h2>
        <div class="chart-wrapper">
          <canvas id="paymentMethodChart"></canvas>
        </div>
      </div>

      <div class="chart-card full">
        <h2 class="card-title">Perbandingan Fee Host vs Pemesan</h2>
        <div class="chart-wrapper">
          <canvas id="feeComparisonChart"></canvas>
        </div>
      </div>

      <div class="chart-card">
        <h2 class="card-title">Status Pemesanan</h2>
        <div class="chart-wrapper">
          <canvas id="bookingStatusChart"></canvas>
        </div>
      </div>

      <div class="chart-card">
        <h2 class="card-title">Tipe Properti Terpopuler</h2>
        <div class="chart-wrapper">
          <canvas id="propertyTypeChart"></canvas>
        </div>
      </div>
    </section>

    <section class="table-section">
      <h2 class="card-title">Pemesanan Terbaru</h2>
      <div class="table-wrapper">
        <table id="recentBookingsTable">
          <thead>
            <tr>
              <th>ID</th>
              <th>Pengguna</th>
              <th>Destinasi</th>
              <th>Tanggal</th>
              <th>Status</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody id="bookingsTableBody">
            <tr>
              <td>#BK-1001</td>
              <td>Ahmad Setiawan</td>
              <td>Villa Sunset, Bali</td>
              <td>15 Des 2024</td>
              <td><span class="status-badge status-success">Selesai</span></td>
              <td>Rp 3.500.000</td>
            </tr>
            <tr>
              <td>#BK-1002</td>
              <td>Siti Rahayu</td>
              <td>Homestay Indah, Yogyakarta</td>
              <td>14 Des 2024</td>
              <td><span class="status-badge status-warning">Ditunda</span></td>
              <td>Rp 1.200.000</td>
            </tr>
            <tr>
              <td>#BK-1003</td>
              <td>Budi Santoso</td>
              <td>Resort Paradise, Lombok</td>
              <td>13 Des 2024</td>
              <td><span class="status-badge status-success">Selesai</span></td>
              <td>Rp 5.800.000</td>
            </tr>
            <tr>
              <td>#BK-1004</td>
              <td>Dewi Lestari</td>
              <td>Hotel Grand, Jakarta</td>
              <td>12 Des 2024</td>
              <td><span class="status-badge status-danger">Dibatalkan</span></td>
              <td>Rp 2.100.000</td>
            </tr>
            <tr>
              <td>#BK-1005</td>
              <td>Rudi Hartono</td>
              <td>Penginapan Cozy, Bandung</td>
              <td>11 Des 2024</td>
              <td><span class="status-badge status-success">Selesai</span></td>
              <td>Rp 1.500.000</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <div class="top-performers">
      <div class="performer-card">
        <h2 class="card-title">Top 5 Host</h2>
        <div class="performer-item">
          <div class="performer-rank">1</div>
          <div class="performer-info">
            <div class="performer-name">Putu Suarjana</div>
            <div class="performer-detail">Bali • 145 penginapan</div>
          </div>
          <div class="performer-value">Rp 285jt</div>
        </div>
        <div class="performer-item">
          <div class="performer-rank">2</div>
          <div class="performer-info">
            <div class="performer-name">Siti Nurhaliza</div>
            <div class="performer-detail">Yogyakarta • 98 penginapan</div>
          </div>
          <div class="performer-value">Rp 198jt</div>
        </div>
        <div class="performer-item">
          <div class="performer-rank">3</div>
          <div class="performer-info">
            <div class="performer-name">Bambang Wijaya</div>
            <div class="performer-detail">Lombok • 67 penginapan</div>
          </div>
          <div class="performer-value">Rp 156jt</div>
        </div>
        <div class="performer-item">
          <div class="performer-rank">4</div>
          <div class="performer-info">
            <div class="performer-name">Rina Susanti</div>
            <div class="performer-detail">Jakarta • 52 penginapan</div>
          </div>
          <div class="performer-value">Rp 134jt</div>
        </div>
        <div class="performer-item">
          <div class="performer-rank">5</div>
          <div class="performer-info">
            <div class="performer-name">Agus Setiawan</div>
            <div class="performer-detail">Bandung • 48 penginapan</div>
          </div>
          <div class="performer-value">Rp 112jt</div>
        </div>
      </div>

      <div class="performer-card">
        <h2 class="card-title">Top 5 Penginapan</h2>
        <div class="performer-item">
          <div class="performer-rank">1</div>
          <div class="performer-info">
            <div class="performer-name">Villa Sunset Beach</div>
            <div class="performer-detail">Bali • ⭐ 4.9 (523 review)</div>
          </div>
          <div class="performer-value">1.247</div>
        </div>
        <div class="performer-item">
          <div class="performer-rank">2</div>
          <div class="performer-info">
            <div class="performer-name">Homestay Jogja Asri</div>
            <div class="performer-detail">Yogyakarta • ⭐ 4.8 (412 review)</div>
          </div>
          <div class="performer-value">986</div>
        </div>
        <div class="performer-item">
          <div class="performer-rank">3</div>
          <div class="performer-info">
            <div class="performer-name">Resort Gili Paradise</div>
            <div class="performer-detail">Lombok • ⭐ 4.9 (387 review)</div>
          </div>
          <div class="performer-value">854</div>
        </div>
        <div class="performer-item">
          <div class="performer-rank">4</div>
          <div class="performer-info">
            <div class="performer-name">Hotel Grand Central</div>
            <div class="performer-detail">Jakarta • ⭐ 4.7 (298 review)</div>
          </div>
          <div class="performer-value">732</div>
        </div>
        <div class="performer-item">
          <div class="performer-rank">5</div>
          <div class="performer-info">
            <div class="performer-name">Penginapan Mountain View</div>
            <div class="performer-detail">Bandung • ⭐ 4.8 (265 review)</div>
          </div>
          <div class="performer-value">687</div>
        </div>
      </div>
    </div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.js"></script>
  <script>
    // Inline version - untuk production gunakan file terpisah
    const rawData = {
  allTime: {
    stats: {
      revenue: "Rp 2,39 M",
      revenueChange: "+18%",
      bookings: "54.530",
      bookingsChange: "+12%",
      users: "12.847",
      usersChange: "+8%",
      hosts: "3.254",
      hostsChange: "+15%"
    },
    popularCity: {
      labels: ["Bali", "Yogyakarta", "Lombok", "Jakarta", "Bandung"],
      datasets: [{
        label: "Total Pemesanan",
        data: [15420, 12850, 9730, 8640, 7890],
        backgroundColor: "#14b8a6",
        borderRadius: 5,
        barThickness: 60,
      }],
    },
    bookingStatus: {
      labels: ["Pemesanan Selesai", "Pemesanan Ditunda", "Pemesanan Dibatalkan"],
      data: [38250, 9870, 6410],
      backgroundColor: ["#059669", "#d97706", "#dc2626"],
    },
    revenueTrend: {
      labels: ["2024", "2025", "2026"],
      datasets: [{
        label: "Pendapatan",
        data: [2388000000, 3164000000, 2755000000],
        borderColor: "#14b8a6",
        backgroundColor: "rgba(20, 184, 166, 0.1)",
        borderWidth: 3,
        fill: true,
        tension: 0.4,
        pointRadius: 5,
        pointHoverRadius: 7,
        pointBackgroundColor: "#14b8a6",
        pointBorderColor: "#fff",
        pointBorderWidth: 2,
      }],
    },
    growthChart: {
      labels: ["2024", "2025", "2026"],
      datasets: [
        {
          label: "Pengguna",
          data: [8500, 10200, 12847],
          borderColor: "#14b8a6",
          backgroundColor: "rgba(20, 184, 166, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#14b8a6",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        },
        {
          label: "Host",
          data: [1850, 2450, 3254],
          borderColor: "#7c3aed",
          backgroundColor: "rgba(124, 58, 237, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#7c3aed",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        }
      ],
    },
    conversionFunnel: {
      labels: ["Property View", "Add Wishlist", "Start Booking", "Complete Payment", "Confirmed"],
      datasets: [{
        label: "Jumlah User",
        data: [45000, 18500, 12400, 9850, 8730],
        backgroundColor: [
          "rgba(20, 184, 166, 0.9)",
          "rgba(20, 184, 166, 0.75)",
          "rgba(20, 184, 166, 0.6)",
          "rgba(20, 184, 166, 0.45)",
          "rgba(20, 184, 166, 0.3)"
        ],
        borderRadius: 5,
        barThickness: 40,
      }],
    },
    paymentMethod: {
      labels: ["Transfer Bank", "E-Wallet", "Kartu Kredit", "Virtual Account", "COD"],
      data: [18500, 15200, 12400, 6850, 1580],
      backgroundColor: ["#14b8a6", "#059669", "#0284c7", "#7c3aed", "#d97706"],
    },
    feeComparison: {
      labels: ["2024", "2025", "2026"],
      datasets: [
        {
          label: "Fee Host",
          data: [285000000, 378000000, 412000000],
          borderColor: "#14b8a6",
          backgroundColor: "rgba(20, 184, 166, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#14b8a6",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        },
        {
          label: "Fee Pemesan",
          data: [119000000, 158000000, 173000000],
          borderColor: "#7c3aed",
          backgroundColor: "rgba(124, 58, 237, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#7c3aed",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        }
      ],
    },
    propertyType: {
      labels: ["Villa", "Hotel", "Homestay", "Apartemen", "Resort"],
      data: [18420, 14850, 10730, 6840, 3690],
      backgroundColor: ["#14b8a6", "#059669", "#0284c7", "#7c3aed", "#d97706"],
    },
  },
  yearly: {
    stats: {
      revenue: "Rp 2,39 M",
      revenueChange: "+18%",
      bookings: "54.530",
      bookingsChange: "+12%",
      users: "12.847",
      usersChange: "+8%",
      hosts: "3.254",
      hostsChange: "+15%"
    },
    popularCity: {
      labels: ["Bali", "Yogyakarta", "Lombok", "Jakarta", "Bandung"],
      datasets: [{
        label: "Total Pemesanan",
        data: [15420, 12850, 9730, 8640, 7890],
        backgroundColor: "#14b8a6",
        borderRadius: 5,
        barThickness: 60,
      }],
    },
    bookingStatus: {
      labels: ["Pemesanan Selesai", "Pemesanan Ditunda", "Pemesanan Dibatalkan"],
      data: [38250, 9870, 6410],
      backgroundColor: ["#059669", "#d97706", "#dc2626"],
    },
    revenueTrend: {
      labels: ["Jan", "Feb", "Mar", "Apr", "Mei", "Jun", "Jul", "Ags", "Sep", "Okt", "Nov", "Des"],
      datasets: [{
        label: "Pendapatan",
        data: [125000000, 138000000, 145000000, 167000000, 182000000, 195000000, 210000000, 198000000, 225000000, 245000000, 268000000, 290000000],
        borderColor: "#14b8a6",
        backgroundColor: "rgba(20, 184, 166, 0.1)",
        borderWidth: 3,
        fill: true,
        tension: 0.4,
        pointRadius: 5,
        pointHoverRadius: 7,
        pointBackgroundColor: "#14b8a6",
        pointBorderColor: "#fff",
        pointBorderWidth: 2,
      }],
    },
    growthChart: {
      labels: ["Jan", "Feb", "Mar", "Apr", "Mei", "Jun", "Jul", "Ags", "Sep", "Okt", "Nov", "Des"],
      datasets: [
        {
          label: "Pengguna",
          data: [850, 920, 1050, 1180, 1320, 1450, 1580, 1720, 1850, 1980, 2100, 2250],
          borderColor: "#14b8a6",
          backgroundColor: "rgba(20, 184, 166, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 4,
          pointHoverRadius: 6,
          pointBackgroundColor: "#14b8a6",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        },
        {
          label: "Host",
          data: [185, 205, 230, 265, 295, 325, 358, 385, 412, 445, 475, 510],
          borderColor: "#7c3aed",
          backgroundColor: "rgba(124, 58, 237, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 4,
          pointHoverRadius: 6,
          pointBackgroundColor: "#7c3aed",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        }
      ],
    },
    conversionFunnel: {
      labels: ["Property View", "Add Wishlist", "Start Booking", "Complete Payment", "Confirmed"],
      datasets: [{
        label: "Jumlah User",
        data: [45000, 18500, 12400, 9850, 8730],
        backgroundColor: [
          "rgba(20, 184, 166, 0.9)",
          "rgba(20, 184, 166, 0.75)",
          "rgba(20, 184, 166, 0.6)",
          "rgba(20, 184, 166, 0.45)",
          "rgba(20, 184, 166, 0.3)"
        ],
        borderRadius: 5,
        barThickness: 40,
      }],
    },
    paymentMethod: {
      labels: ["Transfer Bank", "E-Wallet", "Kartu Kredit", "Virtual Account", "COD"],
      data: [18500, 15200, 12400, 6850, 1580],
      backgroundColor: ["#14b8a6", "#059669", "#0284c7", "#7c3aed", "#d97706"],
    },
    feeComparison: {
      labels: ["Jan", "Feb", "Mar", "Apr", "Mei", "Jun", "Jul", "Ags", "Sep", "Okt", "Nov", "Des"],
      datasets: [
        {
          label: "Fee Host",
          data: [18500000, 21500000, 24200000, 27800000, 30500000, 32800000, 35400000, 33800000, 38200000, 41500000, 44800000, 48500000],
          borderColor: "#14b8a6",
          backgroundColor: "rgba(20, 184, 166, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 4,
          pointHoverRadius: 6,
          pointBackgroundColor: "#14b8a6",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        },
        {
          label: "Fee Pemesan",
          data: [7800000, 9000000, 10200000, 11700000, 12800000, 13800000, 14900000, 14200000, 16100000, 17500000, 18900000, 20400000],
          borderColor: "#7c3aed",
          backgroundColor: "rgba(124, 58, 237, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 4,
          pointHoverRadius: 6,
          pointBackgroundColor: "#7c3aed",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        }
      ],
    },
    propertyType: {
      labels: ["Villa", "Hotel", "Homestay", "Apartemen", "Resort"],
      data: [18420, 14850, 10730, 6840, 3690],
      backgroundColor: ["#14b8a6", "#059669", "#0284c7", "#7c3aed", "#d97706"],
    },
  },
  monthly: {
    stats: {
      revenue: "Rp 260 Jt",
      revenueChange: "+15%",
      bookings: "5.880",
      bookingsChange: "+10%",
      users: "1.847",
      usersChange: "+5%",
      hosts: "425",
      hostsChange: "+8%"
    },
    popularCity: {
      labels: ["Bali", "Yogyakarta", "Lombok", "Jakarta", "Bandung"],
      datasets: [{
        label: "Total Pemesanan",
        data: [1840, 1520, 1180, 980, 860],
        backgroundColor: "#14b8a6",
        borderRadius: 5,
        barThickness: 60,
      }],
    },
    bookingStatus: {
      labels: ["Pemesanan Selesai", "Pemesanan Ditunda", "Pemesanan Dibatalkan"],
      data: [4250, 980, 650],
      backgroundColor: ["#059669", "#d97706", "#dc2626"],
    },
    revenueTrend: {
      labels: ["Minggu 1", "Minggu 2", "Minggu 3", "Minggu 4"],
      datasets: [{
        label: "Pendapatan",
        data: [58000000, 62000000, 68000000, 72000000],
        borderColor: "#14b8a6",
        backgroundColor: "rgba(20, 184, 166, 0.1)",
        borderWidth: 3,
        fill: true,
        tension: 0.4,
        pointRadius: 6,
        pointHoverRadius: 8,
        pointBackgroundColor: "#14b8a6",
        pointBorderColor: "#fff",
        pointBorderWidth: 2,
      }],
    },
    growthChart: {
      labels: ["Minggu 1", "Minggu 2", "Minggu 3", "Minggu 4"],
      datasets: [
        {
          label: "Pengguna",
          data: [420, 485, 530, 612],
          borderColor: "#14b8a6",
          backgroundColor: "rgba(20, 184, 166, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#14b8a6",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        },
        {
          label: "Host",
          data: [95, 108, 118, 134],
          borderColor: "#7c3aed",
          backgroundColor: "rgba(124, 58, 237, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#7c3aed",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        }
      ],
    },
    conversionFunnel: {
      labels: ["Property View", "Add Wishlist", "Start Booking", "Complete Payment", "Confirmed"],
      datasets: [{
        label: "Jumlah User",
        data: [12500, 5850, 3840, 2950, 2580],
        backgroundColor: [
          "rgba(20, 184, 166, 0.9)",
          "rgba(20, 184, 166, 0.75)",
          "rgba(20, 184, 166, 0.6)",
          "rgba(20, 184, 166, 0.45)",
          "rgba(20, 184, 166, 0.3)"
        ],
        borderRadius: 5,
        barThickness: 40,
      }],
    },
    paymentMethod: {
      labels: ["Transfer Bank", "E-Wallet", "Kartu Kredit", "Virtual Account", "COD"],
      data: [2150, 1820, 1340, 485, 85],
      backgroundColor: ["#14b8a6", "#059669", "#0284c7", "#7c3aed", "#d97706"],
    },
    feeComparison: {
      labels: ["Minggu 1", "Minggu 2", "Minggu 3", "Minggu 4"],
      datasets: [
        {
          label: "Fee Host",
          data: [8500000, 9200000, 10100000, 10700000],
          borderColor: "#14b8a6",
          backgroundColor: "rgba(20, 184, 166, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#14b8a6",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        },
        {
          label: "Fee Pemesan",
          data: [3600000, 3900000, 4250000, 4500000],
          borderColor: "#7c3aed",
          backgroundColor: "rgba(124, 58, 237, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#7c3aed",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        }
      ],
    },
    propertyType: {
      labels: ["Villa", "Hotel", "Homestay", "Apartemen", "Resort"],
      data: [2150, 1720, 1240, 785, 425],
      backgroundColor: ["#14b8a6", "#059669", "#0284c7", "#7c3aed", "#d97706"],
    },
  },
  weekly: {
    stats: {
      revenue: "Rp 122 Jt",
      revenueChange: "+22%",
      bookings: "1.463",
      bookingsChange: "+18%",
      users: "547",
      usersChange: "+12%",
      hosts: "98",
      hostsChange: "+5%"
    },
    popularCity: {
      labels: ["Bali", "Yogyakarta", "Lombok", "Jakarta", "Bandung"],
      datasets: [{
        label: "Total Pemesanan",
        data: [420, 350, 270, 225, 198],
        backgroundColor: "#14b8a6",
        borderRadius: 5,
        barThickness: 60,
      }],
    },
    bookingStatus: {
      labels: ["Pemesanan Selesai", "Pemesanan Ditunda", "Pemesanan Dibatalkan"],
      data: [1050, 240, 173],
      backgroundColor: ["#059669", "#d97706", "#dc2626"],
    },
    revenueTrend: {
      labels: ["Sen", "Sel", "Rab", "Kam", "Jum", "Sab", "Min"],
      datasets: [{
        label: "Pendapatan",
        data: [14000000, 15500000, 16200000, 17800000, 18500000, 21000000, 19500000],
        borderColor: "#14b8a6",
        backgroundColor: "rgba(20, 184, 166, 0.1)",
        borderWidth: 3,
        fill: true,
        tension: 0.4,
        pointRadius: 6,
        pointHoverRadius: 8,
        pointBackgroundColor: "#14b8a6",
        pointBorderColor: "#fff",
        pointBorderWidth: 2,
      }],
    },
    growthChart: {
      labels: ["Sen", "Sel", "Rab", "Kam", "Jum", "Sab", "Min"],
      datasets: [
        {
          label: "Pengguna",
          data: [65, 72, 80, 88, 95, 115, 102],
          borderColor: "#14b8a6",
          backgroundColor: "rgba(20, 184, 166, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#14b8a6",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        },
        {
          label: "Host",
          data: [12, 14, 15, 17, 18, 22, 20],
          borderColor: "#7c3aed",
          backgroundColor: "rgba(124, 58, 237, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#7c3aed",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        }
      ],
    },
    conversionFunnel: {
      labels: ["Property View", "Add Wishlist", "Start Booking", "Complete Payment", "Confirmed"],
      datasets: [{
        label: "Jumlah User",
        data: [3200, 1450, 985, 745, 658],
        backgroundColor: [
          "rgba(20, 184, 166, 0.9)",
          "rgba(20, 184, 166, 0.75)",
          "rgba(20, 184, 166, 0.6)",
          "rgba(20, 184, 166, 0.45)",
          "rgba(20, 184, 166, 0.3)"
        ],
        borderRadius: 5,
        barThickness: 40,
      }],
    },
    paymentMethod: {
      labels: ["Transfer Bank", "E-Wallet", "Kartu Kredit", "Virtual Account", "COD"],
      data: [520, 445, 320, 145, 33],
      backgroundColor: ["#14b8a6", "#059669", "#0284c7", "#7c3aed", "#d97706"],
    },
    feeComparison: {
      labels: ["Sen", "Sel", "Rab", "Kam", "Jum", "Sab", "Min"],
      datasets: [
        {
          label: "Fee Host",
          data: [2100000, 2300000, 2400000, 2650000, 2750000, 3150000, 2900000],
          borderColor: "#14b8a6",
          backgroundColor: "rgba(20, 184, 166, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#14b8a6",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        },
        {
          label: "Fee Pemesan",
          data: [900000, 970000, 1020000, 1120000, 1160000, 1330000, 1220000],
          borderColor: "#7c3aed",
          backgroundColor: "rgba(124, 58, 237, 0.1)",
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 5,
          pointHoverRadius: 7,
          pointBackgroundColor: "#7c3aed",
          pointBorderColor: "#fff",
          pointBorderWidth: 2,
          fill: true,
        }
      ],
    },
    propertyType: {
      labels: ["Villa", "Hotel", "Homestay", "Apartemen", "Resort"],
      data: [520, 420, 305, 185, 98],
      backgroundColor: ["#14b8a6", "#059669", "#0284c7", "#7c3aed", "#d97706"],
    },
  },
};

    let currentPeriod = "allTime";

    const commonOptions = {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          labels: {
            font: { family: "Inter" },
            color: "#6b7280",
          },
        },
        tooltip: {
          backgroundColor: "#1f2937",
          padding: 16,
          titleFont: { size: 13, family: "Inter", weight: "600" },
          bodyFont: { size: 13, family: "Inter", weight: "400" },
        },
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: "#6b7280", font: { size: 13, family: "Inter" } },
        },
        y: {
          beginAtZero: true,
          grid: { color: "#f3f4f6", drawBorder: false },
          ticks: { color: "#6b7280", font: { size: 12, family: "Inter" } },
        },
      },
    };

    const charts = {};

    charts.popularCity = new Chart(document.getElementById("popularCityChart"), {
      type: "bar",
      data: rawData.allTime.popularCity,
      options: {
        ...commonOptions,
        plugins: {
          ...commonOptions.plugins,
          legend: {
            display: true,
            position: "top",
            align: "end",
            labels: {
              usePointStyle: true,
              pointStyle: "circle",
              boxWidth: 6,
              padding: 20,
              font: { size: 13, family: "Inter" },
              color: "#6b7280",
            },
          },
          tooltip: {
            ...commonOptions.plugins.tooltip,
            callbacks: {
              label: (ctx) => ` ${ctx.dataset.label}: ${ctx.parsed.y.toLocaleString("id-ID")} Pemesanan`,
            },
          },
        },
      },
    });

    charts.bookingStatus = new Chart(document.getElementById("bookingStatusChart"), {
      type: "doughnut",
      data: {
        labels: rawData.allTime.bookingStatus.labels,
        datasets: [{
          data: rawData.allTime.bookingStatus.data,
          backgroundColor: rawData.allTime.bookingStatus.backgroundColor,
          borderColor: "#fff",
          borderWidth: 10,
          hoverOffset: 20,
        }],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        cutout: "60%",
        plugins: {
          legend: {
            position: "right",
            labels: {
              usePointStyle: true,
              pointStyle: "circle",
              boxWidth: 6,
              padding: 20,
              font: { size: 14, family: "Inter" },
              generateLabels(chart) {
                const data = chart.data;
                const datasets = data.datasets[0];
                const total = datasets.data.reduce((a, b) => a + b, 0);
                return data.labels.map((label, i) => ({
                  text: `${label}: ${((datasets.data[i] / total) * 100).toFixed(0)}%`,
                  fillStyle: datasets.backgroundColor[i],
                }));
              },
            },
          },
          tooltip: {
            backgroundColor: "#1f2937",
            padding: 16,
            callbacks: {
              label(ctx) {
                const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                const pct = ((ctx.parsed / total) * 100).toFixed(1);
                return ` ${ctx.label}: ${ctx.parsed.toLocaleString("id-ID")} (${pct}%)`;
              },
            },
          },
        },
      },
    });

    charts.revenueTrend = new Chart(document.getElementById("revenueTrendChart"), {
      type: "line",
      data: rawData.allTime.revenueTrend,
      options: {
        ...commonOptions,
        plugins: {
          ...commonOptions.plugins,
          legend: {
            display: true,
            position: "top",
            align: "end",
            labels: {
              usePointStyle: true,
              pointStyle: "circle",
              boxWidth: 6,
              padding: 20,
              font: { size: 13, family: "Inter" },
              color: "#6b7280",
            },
          },
          tooltip: {
            ...commonOptions.plugins.tooltip,
            callbacks: {
              label: (ctx) => {
                const formatted = new Intl.NumberFormat('id-ID', {
                  style: 'currency',
                  currency: 'IDR',
                  minimumFractionDigits: 0,
                }).format(ctx.parsed.y);
                return ` ${ctx.dataset.label}: ${formatted}`;
              },
            },
          },
        },
        scales: {
          ...commonOptions.scales,
          y: {
            ...commonOptions.scales.y,
            ticks: {
              ...commonOptions.scales.y.ticks,
              callback: (v) => v >= 1000000 ? `Rp ${(v / 1000000).toFixed(0)}Jt` : `Rp ${(v / 1000).toFixed(0)}K`,
            },
          },
        },
        interaction: { mode: "index", intersect: false },
      },
    });

    charts.growth = new Chart(document.getElementById("growthChart"), {
      type: "line",
      data: rawData.allTime.growthChart,
      options: {
        ...commonOptions,
        plugins: {
          ...commonOptions.plugins,
          legend: {
            display: true,
            position: "top",
            align: "end",
            labels: {
              usePointStyle: true,
              pointStyle: "circle",
              boxWidth: 6,
              padding: 20,
              font: { size: 13, family: "Inter" },
              color: "#6b7280",
            },
          },
        },
        interaction: { mode: "index", intersect: false },
      },
    });

    charts.conversion = new Chart(document.getElementById("conversionChart"), {
      type: "bar",
      data: rawData.allTime.conversionFunnel,
      options: {
        indexAxis: 'y',
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { display: false },
          tooltip: {
            backgroundColor: "#1f2937",
            padding: 16,
            callbacks: {
              label: (ctx) => ` ${ctx.dataset.label}: ${ctx.parsed.x.toLocaleString("id-ID")}`,
            },
          },
        },
        scales: {
          x: {
            grid: { color: "#f3f4f6", drawBorder: false },
            ticks: { color: "#6b7280", font: { size: 12, family: "Inter" } },
          },
          y: {
            grid: { display: false },
            ticks: { color: "#6b7280", font: { size: 13, family: "Inter" } },
          },
        },
      },
    });

    charts.paymentMethod = new Chart(document.getElementById("paymentMethodChart"), {
      type: "doughnut",
      data: {
        labels: rawData.allTime.paymentMethod.labels,
        datasets: [{
          data: rawData.allTime.paymentMethod.data,
          backgroundColor: rawData.allTime.paymentMethod.backgroundColor,
          borderColor: "#fff",
          borderWidth: 10,
          hoverOffset: 20,
        }],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        cutout: "60%",
        plugins: {
          legend: {
            position: "right",
            labels: {
              usePointStyle: true,
              pointStyle: "circle",
              boxWidth: 6,
              padding: 20,
              font: { size: 14, family: "Inter" },
              generateLabels(chart) {
                const data = chart.data;
                const datasets = data.datasets[0];
                const total = datasets.data.reduce((a, b) => a + b, 0);
                return data.labels.map((label, i) => ({
                  text: `${label}: ${((datasets.data[i] / total) * 100).toFixed(0)}%`,
                  fillStyle: datasets.backgroundColor[i],
                }));
              },
            },
          },
          tooltip: {
            backgroundColor: "#1f2937",
            padding: 16,
            callbacks: {
              label(ctx) {
                const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                const pct = ((ctx.parsed / total) * 100).toFixed(1);
                return ` ${ctx.label}: ${ctx.parsed.toLocaleString("id-ID")} (${pct}%)`;
              },
            },
          },
        },
      },
    });

    charts.feeComparison = new Chart(document.getElementById("feeComparisonChart"), {
      type: "line",
      data: rawData.allTime.feeComparison,
      options: {
        ...commonOptions,
        plugins: {
          ...commonOptions.plugins,
          legend: {
            display: true,
            position: "top",
            align: "end",
            labels: {
              usePointStyle: true,
              pointStyle: "circle",
              boxWidth: 6,
              padding: 20,
              font: { size: 13, family: "Inter" },
              color: "#6b7280",
            },
          },
          tooltip: {
            ...commonOptions.plugins.tooltip,
            callbacks: {
              label: (ctx) => {
                const formatted = new Intl.NumberFormat('id-ID', {
                  style: 'currency',
                  currency: 'IDR',
                  minimumFractionDigits: 0,
                }).format(ctx.parsed.y);
                return ` ${ctx.dataset.label}: ${formatted}`;
              },
            },
          },
        },
        scales: {
          ...commonOptions.scales,
          y: {
            ...commonOptions.scales.y,
            ticks: {
              ...commonOptions.scales.y.ticks,
              callback: (v) => v >= 1000000 ? `Rp ${(v / 1000000).toFixed(0)}Jt` : `Rp ${(v / 1000).toFixed(0)}K`,
            },
          },
        },
        interaction: { mode: "index", intersect: false },
      },
    });

    charts.propertyType = new Chart(document.getElementById("propertyTypeChart"), {
      type: "doughnut",
      data: {
        labels: rawData.allTime.propertyType.labels,
        datasets: [{
          data: rawData.allTime.propertyType.data,
          backgroundColor: rawData.allTime.propertyType.backgroundColor,
          borderColor: "#fff",
          borderWidth: 10,
          hoverOffset: 20,
        }],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        cutout: "60%",
        plugins: {
          legend: {
            position: "right",
            labels: {
              usePointStyle: true,
              pointStyle: "circle",
              boxWidth: 6,
              padding: 20,
              font: { size: 14, family: "Inter" },
              generateLabels(chart) {
                const data = chart.data;
                const datasets = data.datasets[0];
                const total = datasets.data.reduce((a, b) => a + b, 0);
                return data.labels.map((label, i) => ({
                  text: `${label}: ${((datasets.data[i] / total) * 100).toFixed(0)}%`,
                  fillStyle: datasets.backgroundColor[i],
                }));
              },
            },
          },
          tooltip: {
            backgroundColor: "#1f2937",
            padding: 16,
            callbacks: {
              label(ctx) {
                const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                const pct = ((ctx.parsed / total) * 100).toFixed(1);
                return ` ${ctx.label}: ${ctx.parsed.toLocaleString("id-ID")} (${pct}%)`;
              },
            },
          },
        },
      },
    });

    function updateStats(period) {
      const stats = rawData[period].stats;
      document.getElementById("totalRevenue").textContent = stats.revenue;
      document.getElementById("revenueChange").textContent = stats.revenueChange;
      document.getElementById("totalBookings").textContent = stats.bookings;
      document.getElementById("bookingsChange").textContent = stats.bookingsChange;
      document.getElementById("activeUsers").textContent = stats.users;
      document.getElementById("usersChange").textContent = stats.usersChange;
      document.getElementById("totalHosts").textContent = stats.hosts;
      document.getElementById("hostsChange").textContent = stats.hostsChange;
    }

    function updateCharts(period) {
      currentPeriod = period;
      updateStats(period);
      
      charts.popularCity.data = rawData[period].popularCity;
      charts.popularCity.update();

      charts.bookingStatus.data.labels = rawData[period].bookingStatus.labels;
      charts.bookingStatus.data.datasets[0].data = rawData[period].bookingStatus.data;
      charts.bookingStatus.data.datasets[0].backgroundColor = rawData[period].bookingStatus.backgroundColor;
      charts.bookingStatus.update();

      charts.revenueTrend.data = rawData[period].revenueTrend;
      charts.revenueTrend.update();

      charts.growth.data = rawData[period].growthChart;
      charts.growth.update();

      charts.conversion.data = rawData[period].conversionFunnel;
      charts.conversion.update();

      charts.paymentMethod.data.labels = rawData[period].paymentMethod.labels;
      charts.paymentMethod.data.datasets[0].data = rawData[period].paymentMethod.data;
      charts.paymentMethod.data.datasets[0].backgroundColor = rawData[period].paymentMethod.backgroundColor;
      charts.paymentMethod.update();

      charts.feeComparison.data = rawData[period].feeComparison;
      charts.feeComparison.update();

      charts.propertyType.data.labels = rawData[period].propertyType.labels;
      charts.propertyType.data.datasets[0].data = rawData[period].propertyType.data;
      charts.propertyType.data.datasets[0].backgroundColor = rawData[period].propertyType.backgroundColor;
      charts.propertyType.update();
    }

    const selectTrigger = document.getElementById("selectTrigger");
    const selectDropdown = document.getElementById("selectDropdown");
    const selectedText = document.getElementById("selectedText");
    const selectOptions = document.querySelectorAll(".select-option");

    selectTrigger.addEventListener("click", () => {
      selectTrigger.classList.toggle("active");
      selectDropdown.classList.toggle("active");
    });

    selectOptions.forEach((option) => {
      option.addEventListener("click", () => {
        selectedText.textContent = option.textContent;
        selectOptions.forEach((o) => o.classList.remove("selected"));
        option.classList.add("selected");
        selectTrigger.classList.remove("active");
        selectDropdown.classList.remove("active");
        updateCharts(option.dataset.value);
      });
    });

    document.addEventListener("click", (e) => {
      if (!e.target.closest(".custom-select")) {
        selectTrigger.classList.remove("active");
        selectDropdown.classList.remove("active");
      }
    });

    selectTrigger.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        selectTrigger.click();
      } else if (e.key === "Escape") {
        selectTrigger.classList.remove("active");
        selectDropdown.classList.remove("active");
      }
    });
  </script>
</body>
</html>