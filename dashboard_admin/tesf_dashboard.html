<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Rental Property</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
    }

    .header {
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
    }

    .header h1 {
      color: #333;
      font-size: 32px;
      margin-bottom: 10px;
    }

    .header p {
      color: #666;
      font-size: 14px;
    }

    .period-selector {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .period-btn {
      padding: 8px 16px;
      border: 2px solid #667eea;
      background: white;
      color: #667eea;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
    }

    .period-btn:hover {
      background: #667eea;
      color: white;
    }

    .period-btn.active {
      background: #667eea;
      color: white;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
    }

    .stat-card.revenue::before {
      background: #4CAF50;
    }

    .stat-card.bookings::before {
      background: #2196F3;
    }

    .stat-card.users::before {
      background: #FF9800;
    }

    .stat-card.hosts::before {
      background: #9C27B0;
    }

    .stat-label {
      color: #888;
      font-size: 14px;
      margin-bottom: 10px;
    }

    .stat-value {
      color: #333;
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .stat-change {
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .stat-change.positive {
      color: #4CAF50;
    }

    .stat-change.negative {
      color: #f44336;
    }

    .charts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 25px;
    }

    .chart-card {
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .chart-card.large {
      grid-column: span 2;
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .chart-title {
      color: #333;
      font-size: 18px;
      font-weight: 600;
    }

    .chart-subtitle {
      color: #888;
      font-size: 12px;
      margin-top: 5px;
    }

    .toggle-btn {
      padding: 6px 12px;
      border: 1px solid #ddd;
      background: white;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
      transition: all 0.3s;
    }

    .toggle-btn:hover {
      background: #f5f5f5;
    }

    canvas {
      max-height: 350px;
    }

    .heatmap {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      margin-top: 10px;
    }

    .heatmap-day {
      aspect-ratio: 1;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      color: white;
      font-weight: 600;
    }

    .legend {
      display: flex;
      gap: 15px;
      margin-top: 15px;
      font-size: 12px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .legend-color {
      width: 20px;
      height: 20px;
      border-radius: 4px;
    }

    @media (max-width: 1200px) {
      .charts-grid {
        grid-template-columns: 1fr;
      }

      .chart-card.large {
        grid-column: span 1;
      }
    }

    @media (max-width: 768px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>ðŸ“Š Dashboard Analytics</h1>
      <p>Rental Property Management System</p>
      <div class="period-selector">
        <button class="period-btn" onclick="changePeriod('week')">Minggu Ini</button>
        <button class="period-btn active" onclick="changePeriod('month')">Bulan Ini</button>
        <button class="period-btn" onclick="changePeriod('year')">Tahun Ini</button>
      </div>
    </div>

    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card revenue">
        <div class="stat-label">Total Revenue</div>
        <div class="stat-value">Rp 4.2M</div>
        <div class="stat-change positive">
          â†‘ 12.5% dari bulan lalu
        </div>
      </div>
      <div class="stat-card bookings">
        <div class="stat-label">Total Bookings</div>
        <div class="stat-value">1,240</div>
        <div class="stat-change positive">
          â†‘ 8.3% dari bulan lalu
        </div>
      </div>
      <div class="stat-card users">
        <div class="stat-label">Active Users</div>
        <div class="stat-value">3,580</div>
        <div class="stat-change positive">
          â†‘ 15.2% dari bulan lalu
        </div>
      </div>
      <div class="stat-card hosts">
        <div class="stat-label">Total Hosts</div>
        <div class="stat-value">892</div>
        <div class="stat-change positive">
          â†‘ 6.7% dari bulan lalu
        </div>
      </div>
    </div>

    <!-- Charts Grid -->
    <div class="charts-grid">
      <!-- 1. Line Chart - Revenue & Booking Trend -->
      <div class="chart-card large">
        <div class="chart-header">
          <div>
            <div class="chart-title">Tren Pendapatan & Booking</div>
            <div class="chart-subtitle">12 bulan terakhir</div>
          </div>
        </div>
        <canvas id="revenueTrendChart"></canvas>
      </div>

      <!-- 2. Doughnut Chart - Status Booking -->
      <div class="chart-card">
        <div class="chart-header">
          <div>
            <div class="chart-title">Status Booking</div>
            <div class="chart-subtitle">Distribusi status saat ini</div>
          </div>
        </div>
        <canvas id="bookingStatusChart"></canvas>
      </div>

      <!-- 3. Bar Chart - Top Cities -->
      <div class="chart-card">
        <div class="chart-header">
          <div>
            <div class="chart-title">Top 10 Kota Populer</div>
            <div class="chart-subtitle">Berdasarkan jumlah booking</div>
          </div>
        </div>
        <canvas id="topCitiesChart"></canvas>
      </div>

      <!-- 4. Horizontal Bar - Property Types -->
      <div class="chart-card">
        <div class="chart-header">
          <div>
            <div class="chart-title">Tipe Properti Terpopuler</div>
            <div class="chart-subtitle">Total booking per tipe</div>
          </div>
        </div>
        <canvas id="propertyTypesChart"></canvas>
      </div>

      <!-- 5. Line Chart - User vs Host Growth -->
      <div class="chart-card">
        <div class="chart-header">
          <div>
            <div class="chart-title">Pertumbuhan User vs Host</div>
            <div class="chart-subtitle">Supply & demand balance</div>
          </div>
        </div>
        <canvas id="userHostGrowthChart"></canvas>
      </div>

      <!-- 6. Area Chart - Revenue Comparison -->
      <div class="chart-card large">
        <div class="chart-header">
          <div>
            <div class="chart-title">Komparasi Revenue: Host Fee vs Service Fee</div>
            <div class="chart-subtitle">Kontribusi sumber pendapatan</div>
          </div>
        </div>
        <canvas id="revenueComparisonChart"></canvas>
      </div>

      <!-- 7. Doughnut Chart - Payment Methods -->
      <div class="chart-card">
        <div class="chart-header">
          <div>
            <div class="chart-title">Metode Pembayaran</div>
            <div class="chart-subtitle">Preferensi user</div>
          </div>
        </div>
        <canvas id="paymentMethodsChart"></canvas>
      </div>

      <!-- 8. Bar Chart - Rating Performance -->
      <div class="chart-card">
        <div class="chart-header">
          <div>
            <div class="chart-title">Performa Rating per Kategori</div>
            <div class="chart-subtitle">Rata-rata rating 1-5 bintang</div>
          </div>
        </div>
        <canvas id="ratingPerformanceChart"></canvas>
      </div>

      <!-- 9. Heatmap Calendar -->
      <div class="chart-card">
        <div class="chart-header">
          <div>
            <div class="chart-title">Tingkat Okupansi Harian</div>
            <div class="chart-subtitle">Desember 2024</div>
          </div>
        </div>
        <div class="heatmap" id="occupancyHeatmap"></div>
        <div class="legend">
          <div class="legend-item">
            <div class="legend-color" style="background: #d32f2f;"></div>
            <span>90-100%</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background: #f57c00;"></div>
            <span>70-90%</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background: #fbc02d;"></div>
            <span>50-70%</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background: #66bb6a;"></div>
            <span>&lt;50%</span>
          </div>
        </div>
      </div>

      <!-- 10. Funnel Chart -->
      <div class="chart-card">
        <div class="chart-header">
          <div>
            <div class="chart-title">Conversion Funnel</div>
            <div class="chart-subtitle">User journey analysis</div>
          </div>
        </div>
        <canvas id="conversionFunnelChart"></canvas>
      </div>
    </div>
  </div>

  <script>
    // Chart Colors
    const colors = {
      primary: '#667eea',
      secondary: '#764ba2',
      success: '#4CAF50',
      warning: '#FF9800',
      danger: '#f44336',
      info: '#2196F3'
    };

    // 1. Revenue & Booking Trend Chart
    const revenueTrendCtx = document.getElementById('revenueTrendChart').getContext('2d');
    new Chart(revenueTrendCtx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agt', 'Sep', 'Okt', 'Nov', 'Des'],
        datasets: [{
          label: 'Revenue (Juta Rp)',
          data: [3.2, 3.5, 3.8, 3.6, 4.1, 4.5, 4.8, 4.3, 4.6, 4.9, 5.2, 4.2],
          borderColor: colors.info,
          backgroundColor: 'rgba(33, 150, 243, 0.1)',
          tension: 0.4,
          fill: true
        }, {
          label: 'Jumlah Booking',
          data: [980, 1020, 1100, 1050, 1180, 1240, 1320, 1200, 1280, 1350, 1420, 1240],
          borderColor: colors.success,
          backgroundColor: 'rgba(76, 175, 80, 0.1)',
          tension: 0.4,
          fill: true
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            position: 'top',
          }
        },
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

    // 2. Booking Status Chart
    const bookingStatusCtx = document.getElementById('bookingStatusChart').getContext('2d');
    new Chart(bookingStatusCtx, {
      type: 'doughnut',
      data: {
        labels: ['Completed', 'Confirmed/Upcoming', 'Pending Payment', 'Cancelled'],
        datasets: [{
          data: [60, 25, 10, 5],
          backgroundColor: [colors.success, colors.info, colors.warning, colors.danger],
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            position: 'bottom'
          }
        }
      }
    });

    // 3. Top Cities Chart
    const topCitiesCtx = document.getElementById('topCitiesChart').getContext('2d');
    new Chart(topCitiesCtx, {
      type: 'bar',
      data: {
        labels: ['Bali', 'Jakarta', 'Bandung', 'Yogyakarta', 'Surabaya', 'Lombok', 'Malang', 'Semarang', 'Medan', 'Makassar'],
        datasets: [{
          label: 'Jumlah Booking',
          data: [450, 380, 320, 290, 250, 220, 180, 150, 130, 110],
          backgroundColor: colors.primary
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

    // 4. Property Types Chart
    const propertyTypesCtx = document.getElementById('propertyTypesChart').getContext('2d');
    new Chart(propertyTypesCtx, {
      type: 'bar',
      data: {
        labels: ['Villa', 'Apartemen', 'Rumah', 'Hotel', 'Kost'],
        datasets: [{
          label: 'Jumlah Booking',
          data: [320, 280, 210, 180, 95],
          backgroundColor: [colors.primary, colors.info, colors.success, colors.warning, colors.secondary]
        }]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          x: {
            beginAtZero: true
          }
        }
      }
    });

    // 5. User vs Host Growth Chart
    const userHostGrowthCtx = document.getElementById('userHostGrowthChart').getContext('2d');
    new Chart(userHostGrowthCtx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agt', 'Sep', 'Okt', 'Nov', 'Des'],
        datasets: [{
          label: 'Users',
          data: [2100, 2280, 2450, 2620, 2800, 2950, 3100, 3250, 3380, 3500, 3620, 3580],
          borderColor: colors.danger,
          tension: 0.4
        }, {
          label: 'Hosts',
          data: [620, 650, 680, 710, 740, 770, 800, 825, 850, 870, 885, 892],
          borderColor: colors.info,
          tension: 0.4
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            position: 'top'
          }
        },
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

    // 6. Revenue Comparison Chart
    const revenueComparisonCtx = document.getElementById('revenueComparisonChart').getContext('2d');
    new Chart(revenueComparisonCtx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agt', 'Sep', 'Okt', 'Nov', 'Des'],
        datasets: [{
          label: 'Host Fee (20%)',
          data: [2.5, 2.8, 3.0, 2.9, 3.3, 3.6, 3.8, 3.4, 3.7, 3.9, 4.2, 3.4],
          backgroundColor: 'rgba(76, 175, 80, 0.5)',
          borderColor: colors.success,
          fill: true,
          tension: 0.4
        }, {
          label: 'Service Fee (10%)',
          data: [0.7, 0.7, 0.8, 0.7, 0.8, 0.9, 1.0, 0.9, 0.9, 1.0, 1.0, 0.8],
          backgroundColor: 'rgba(33, 150, 243, 0.5)',
          borderColor: colors.info,
          fill: true,
          tension: 0.4
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            position: 'top'
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            stacked: true
          }
        }
      }
    });

    // 7. Payment Methods Chart
    const paymentMethodsCtx = document.getElementById('paymentMethodsChart').getContext('2d');
    new Chart(paymentMethodsCtx, {
      type: 'doughnut',
      data: {
        labels: ['Transfer Bank', 'E-Wallet', 'Kartu Kredit', 'Virtual Account'],
        datasets: [{
          data: [45, 30, 20, 5],
          backgroundColor: [colors.primary, colors.success, colors.warning, colors.info],
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            position: 'bottom'
          }
        }
      }
    });

    // 8. Rating Performance Chart
    const ratingPerformanceCtx = document.getElementById('ratingPerformanceChart').getContext('2d');
    new Chart(ratingPerformanceCtx, {
      type: 'bar',
      data: {
        labels: ['Kebersihan', 'Lokasi', 'Fasilitas', 'Komunikasi', 'Value'],
        datasets: [{
          label: 'Rating (1-5)',
          data: [4.7, 4.5, 4.6, 4.8, 4.4],
          backgroundColor: colors.primary
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 5
          }
        }
      }
    });

    // 9. Occupancy Heatmap
    const heatmapContainer = document.getElementById('occupancyHeatmap');
    const occupancyData = [
      65, 70, 85, 90, 95, 88, 75,
      68, 72, 78, 82, 92, 85, 70,
      55, 60, 75, 88, 94, 90, 72,
      58, 65, 80, 85, 96, 92, 78,
      62, 68, 82, 88, 98, 95, 80
    ];

    function getOccupancyColor(value) {
      if (value >= 90) return '#d32f2f';
      if (value >= 70) return '#f57c00';
      if (value >= 50) return '#fbc02d';
      return '#66bb6a';
    }

    occupancyData.forEach((value, index) => {
      const day = document.createElement('div');
      day.className = 'heatmap-day';
      day.style.backgroundColor = getOccupancyColor(value);
      day.textContent = index + 1;
      day.title = `Hari ${index + 1}: ${value}% okupansi`;
      heatmapContainer.appendChild(day);
    });

    // 10. Conversion Funnel Chart
    const conversionFunnelCtx = document.getElementById('conversionFunnelChart').getContext('2d');
    new Chart(conversionFunnelCtx, {
      type: 'bar',
      data: {
        labels: ['Property View', 'Add Wishlist', 'Start Booking', 'Complete Payment', 'Confirmed'],
        datasets: [{
          label: 'Users',
          data: [10000, 3000, 1500, 1200, 1150],
          backgroundColor: [
            'rgba(102, 126, 234, 1)',
            'rgba(102, 126, 234, 0.8)',
            'rgba(102, 126, 234, 0.6)',
            'rgba(102, 126, 234, 0.4)',
            'rgba(102, 126, 234, 0.2)'
          ]
        }]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          x: {
            beginAtZero: true
          }
        }
      }
    });

    // Period Change Function
    function changePeriod(period) {
      const buttons = document.querySelectorAll('.period-btn');
      buttons.forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      console.log('Period changed to:', period);
      // Here you would normally reload data based on the period
    }
  </script>
</body>

</html>