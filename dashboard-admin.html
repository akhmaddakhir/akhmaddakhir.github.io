<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin | Teman Singgah</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: #fff;
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 240px;
            height: 100vh;
            background: #fff;
            border-right: 1px solid #eee;
            padding: 25px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 30px;
            margin-left: 6px;
        }

        .logo img {
            width: 35px;
            height: auto;
            object-fit: contain;
        }

        .logo .gambar-nama {
            width: 140px;
            height: auto;
            margin-top: 0;
        }

        .menu {
            list-style: none;
            margin-top: 30px;
        }

        .menu li {
            margin-bottom: 10px;
        }

        .menu a {
            text-decoration: none;
            color: #000;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            transition: 0.25s;
        }

        .menu .active {
            background-color: #e8e5e3;
            font-weight: 500;
        }

        .menu a:hover {
            background-color: #f1f1f1;
        }

        .content {
            margin-left: 240px;
            padding: 40px 50px;
        }

        .cards {
            display: flex;
            gap: 20px;
            margin-bottom: 35px;
        }

        .card {
            flex: 1;
            background: #fff;
            border: 1px solid #eee;
            border-radius: 12px;
            padding: 20px;
        }

        .card p {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 6px;
        }

        .card h2 {
            font-size: 26px;
            font-weight: 700;
        }

        .up {
            color: #2ecc71;
            font-size: 14px;
            font-weight: 600;
        }

        .down {
            color: #e74c3c;
            font-size: 14px;
            font-weight: 600;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
            margin-top: 10px;
            border-radius: 5px;
        }

        th,
        td {
            padding: 12px;
            border-top: 1px solid #eee;
        }

        th {
            background: #8d330c;
            color: #fff;
            font-weight: 500;
            text-align: left;
        }

        .chart-header {
            font-size: 18px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        @media (max-width: 900px) {
            .sidebar {
                left: -260px;
            }

            .sidebar.show {
                left: 0;
            }

            .content {
                margin-left: 0;
            }
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <div class="logo">
            <img src="website_materials/logo_temansinggah.svg" alt="logo">
            <img class="gambar-nama" src="img/brand-name.svg" alt="brand">
        </div>

        <ul class="menu">
            <li><a class="active" href="#"><img src="img/dashboard.svg">Dashboard</a></li>
            <li><a href="dashboard-admin_resort.html"><img src="img/penginapan.svg">Penginapan</a></li>
            <li><a href="dashboard-admin_reservation.html"><img src="img/reservasi.svg">Reservasi</a></li>
            <li><a href="dashboard-admin_guest.html"><img src="img/pengunjung.svg">Pengunjung</a></li>
        </ul>
    </div>

    <div class="content" id="content">
        <div class="cards">
            <div class="card">
                <div class="card-header">
                    <div class="icon-and-text">
                        <p>Total Penginapan</p>
                    </div>
                </div>
                <h2>182.311 <span class="up">▲ 8.9%</span></h2>
            </div>
            <div class="card">
                <div class="card-header">
                    <div class="icon-and-text">
                        <p>Total Pengunjung</p>
                    </div>
                </div>
                <h2>463.903 <span class="up">▲ 8.5%</span></h2>
            </div>
            <div class="card">
                <div class="card-header">
                    <div class="icon-and-text">
                        <p>Total Reservasi</p>
                    </div>
                </div>
                <h2>6.452 <span class="up">▲ 1.2%</span></h2>
            </div>
            <div class="card">
                <div class="card-header">
                    <div class="icon-and-text">
                        <p>Total Cancel</p>
                    </div>
                </div>
                <h2>81 <span class="down">▼ 4.3%</span></h2>
            </div>
        </div>

        <div style="background:#fff; border:1px solid #eee; border-radius:12px; padding:20px; margin-bottom:35px;">
            <h3 class="chart-header">Grafik Pengunjung</h3>
            <canvas id="chart" style="height: 500px;"></canvas>
        </div>

        <div style="background:#fff; border:1px solid #eee; border-radius:12px; padding:20px;">
            <h3 class="chart-header">Aktivitas Terbaru</h3>
            <table>
                <thead>
                    <tr>
                        <th>Nama</th>
                        <th>Jenis</th>
                        <th>Waktu</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!--Bagian SUKSES-->
                    <tr>
                        <td>Azra Mahira</td>
                        <td>Reservasi</td>
                        <td>30 Nov 2025</td>
                        <td style="color:#2ecc71;">Sukses</td>
                    </tr>

                    <tr>
                        <td>Thalita Zeyna</td>
                        <td>Reservasi</td>
                        <td>05 Des 2025</td>
                        <td style="color:#2ecc71;">Sukses</td>
                    </tr>

                    <tr>
                        <td>Amarabel Soren</td>
                        <td>Reservasi</td>
                        <td>18 Des 2025</td>
                        <td style="color:#2ecc71;">Sukses</td>
                    </tr>

                    <tr>
                        <td>Ezra Mahira</td>
                        <td>Reservasi</td>
                        <td>19 Des 2025</td>
                        <td style="color:#2ecc71;">Sukses</td>
                    </tr>
                    <!--Bagian PENDING-->
                    <tr>
                        <td>Rani Putri</td>
                        <td>Penginapan</td>
                        <td>29 Nov 2025</td>
                        <td style="color:#e67e22;">Pending</td>
                    </tr>

                    <tr>
                        <td>Rahma Deswinta</td>
                        <td>Penginapan</td>
                        <td>05 Des 2025</td>
                        <td style="color:#e67e22;">Pending</td>
                    </tr>

                    <tr>
                        <td>Lily Chinlao</td>
                        <td>Penginapan</td>
                        <td>14 Des 2025</td>
                        <td style="color:#e67e22;">Pending</td>
                    </tr>
                    <!--Bagian CANCELLED-->
                    <tr>
                        <td>Dimas Karunia</td>
                        <td>Pembatalan</td>
                        <td>28 Nov 2025</td>
                        <td style="color:#e74c3c;">Dibatalkan</td>
                    </tr>

                    <tr>
                        <td>Denley Kanzley</td>
                        <td>Pembatalan</td>
                        <td>30 Nov 2025</td>
                        <td style="color:#e74c3c;">Dibatalkan</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        const labels = ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agu', 'Sep', 'Okt', 'Nov', 'Des'];

        const dataPengunjung = [150, 200, 100, 420, 250, 300, 200, 320, 380, 280, 350, 400];

        const actualData = dataPengunjung.map(val => val * 1000);

        const ctx = document.getElementById('chart');

        new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Total Pengunjung',
                    data: actualData,
                    borderColor: '#3498db',
                    borderWidth: 2.5,
                    fill: false,
                    tension: 0.1,


                    pointRadius: (context) => {
                        return context.dataIndex === 3 ? 7 : 0;
                    },
                    pointBackgroundColor: (context) => {
                        return context.dataIndex === 3 ? '#3498db' : 'transparent';
                    },
                    pointBorderColor: (context) => {
                        return context.dataIndex === 3 ? '#fff' : 'transparent';
                    },
                    pointBorderWidth: 2,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                aspectRatio: 1.5,

                plugins: {
                    legend: { display: false },
                    tooltip: {
                        external: function (context) {
                            if (context.tooltip.dataPoints && context.tooltip.dataPoints.length > 0 && context.tooltip.dataPoints[0].dataIndex === 3) {
                                let tooltipEl = document.getElementById('chartjs-tooltip');
                                if (!tooltipEl) {
                                    tooltipEl = document.createElement('div');
                                    tooltipEl.id = 'chartjs-tooltip';
                                    tooltipEl.innerHTML = '<div style="background: #3498db; color: white; padding: 5px 8px; border-radius: 5px; font-size: 12px; position: relative; font-weight: 600;">463.903</div>';
                                    document.body.appendChild(tooltipEl);
                                }

                                const position = context.chart.canvas.getBoundingClientRect();
                                const dataPoint = context.tooltip.dataPoints[0];

                                tooltipEl.style.opacity = 1;
                                tooltipEl.style.position = 'absolute';
                                tooltipEl.style.left = position.left + dataPoint.element.x - (tooltipEl.offsetWidth / 2) + 'px';
                                tooltipEl.style.top = position.top + dataPoint.element.y - 35 + 'px';
                                tooltipEl.style.pointerEvents = 'none';
                            } else {
                                let tooltipEl = document.getElementById('chartjs-tooltip');
                                if (tooltipEl) tooltipEl.style.opacity = 0;
                            }
                        },
                        enabled: false,
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function (value) {
                                if (value >= 1000) {
                                    return (value / 1000) + ' rb';
                                }
                                return value;
                            }
                        },
                        grid: { drawBorder: false, color: 'rgba(0, 0, 0, 0.1)' }
                    },
                    x: {
                        grid: { display: false }
                    }
                },
                elements: {
                    line: { tension: 0.1 }
                }
            }
        });
    </script>

</body>

</html>